= content_for :header_title_right_col do
  - if current_user.primary_admin?
    = render "shared/buttons/download_button", url: videos_path(filter_params.merge(format: :json)), label: t('shared.download_json')

  .ms-1= render "new_buttons"

.container-fluid.px-4
  = render "shared/header_title", title: t("video.videos")
  = render "filters"
  = render "shared/no_data", items: @videos

  - if @videos.present?
    = render "shared/pagination_title", objects: @videos

    .table-responsive
      %table.table.table-hover.pretty
        %thead
          %tr
            %th #
            %th= t('video.title')
            %th= t('video.url')
            %th= t('video.author')
            %th= t('video.category')
            %th= t('shared.created_at')
            %th

        %tbody
          - @videos.each_with_index do |video, index|
            %tr
              %td= @pagy.from + index
              %td= video.name
              %td= video.url
              %td= video.author
              %td= video.video_category_name
              %td= timeago(video.created_at).html_safe
              %td
                .d-flex.justify-content-end
                  = render 'shared/buttons/edit_button', object: video, url: edit_video_path(video)

                  = render 'shared/buttons/delete_button', object: video,  message: { type: t('video.video'), name: video.name, url: video_path(video) }

    - if @pagy.pages > 1
      .d-flex.pagy-wrapper.justify-content-lg-end.justify-content-center
        != pagy_bootstrap_nav(@pagy)

= render "shared/modals/confirm_delete_modal"
